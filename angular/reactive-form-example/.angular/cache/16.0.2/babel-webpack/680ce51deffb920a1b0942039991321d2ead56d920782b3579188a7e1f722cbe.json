{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nlet AppComponent = class AppComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.honorifics = ['Dr.', 'Mr.', 'Mrs.', 'Ms.'];\n    this.forbiddenUsernames = ['john.doe', 'jane.doe'];\n  }\n  ngOnInit() {\n    this.signupForm = new FormGroup({\n      'userData': new FormGroup({\n        'username': new FormControl(null, [Validators.required, this.forbiddenNames.bind(this)]),\n        'email': new FormControl(null, [Validators.required, Validators.email], this.forbiddenEmails)\n      }),\n      'honorific': new FormControl('Mrs.'),\n      'interests': new FormArray([])\n    });\n    this.signupForm.statusChanges.subscribe(value => console.log(value));\n    this.signupForm.setValue({\n      'userData': {\n        'username': 'jane.smith',\n        'email': 'jane.smith@email.com'\n      },\n      'honorific': 'male',\n      'interests': ['test']\n    });\n    this.signupForm.patchValue({\n      'userData': {\n        'username': 'jane.doe'\n      }\n    });\n  }\n  onSubmit() {\n    console.log(this.signupForm);\n    this.signupForm.reset();\n  }\n  onAddInterest() {\n    const control = new FormControl(null, Validators.required);\n    this.signupForm.get('interests').push(control);\n  }\n  forbiddenNames(control) {\n    if (this.forbiddenUsernames.indexOf(control.value) !== -1) {\n      return {\n        'nameIsForbidden': true\n      };\n    }\n    return null;\n  }\n  forbiddenEmails(control) {\n    const promise = new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (control.value === 'test@test.com') {\n          resolve({\n            'emailIsForbidden': true\n          });\n        } else {\n          resolve(null);\n        }\n      }, 1000);\n    });\n    return promise;\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };\nfunction $any(arg0) {\n  throw new Error('Function not implemented.');\n}","map":{"version":3,"names":["Component","FormArray","FormControl","FormGroup","Validators","AppComponent","constructor","fb","honorifics","forbiddenUsernames","ngOnInit","signupForm","required","forbiddenNames","bind","email","forbiddenEmails","statusChanges","subscribe","value","console","log","setValue","patchValue","onSubmit","reset","onAddInterest","control","get","push","indexOf","promise","Promise","resolve","reject","setTimeout","__decorate","selector","templateUrl","styleUrls","$any","arg0","Error"],"sources":["C:\\Users\\Dan\\Desktop\\WGU\\Spring 2023\\D280 Javascript Programming\\angular\\reactive-form-example\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  honorifics = ['Dr.', 'Mr.', 'Mrs.', 'Ms.'];\n  signupForm!: FormGroup;\n  forbiddenUsernames = ['john.doe', 'jane.doe'];\n  title: any;\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit() {\n    this.signupForm = new FormGroup({\n      'userData': new FormGroup({\n        'username': new FormControl(null, [Validators.required, this.forbiddenNames.bind(this)]),\n        'email': new FormControl(null, [Validators.required, Validators.email], this.forbiddenEmails)\n      }),\n      'honorific': new FormControl('Mrs.'),\n      'interests': new FormArray([])\n    });\n \n    this.signupForm.statusChanges.subscribe(\n      (value) => console.log(value)\n    );\n    this.signupForm.setValue({\n      'userData': {\n        'username': 'jane.smith',\n        'email': 'jane.smith@email.com'\n      },\n      'honorific': 'male',\n      'interests': ['test']\n    });\n    this.signupForm.patchValue({\n      'userData': {\n        'username': 'jane.doe',\n      }\n    });\n  }\n\n  onSubmit() {\n    console.log(this.signupForm);\n    this.signupForm.reset();\n  }\n\n  onAddInterest() {\n    const control = new FormControl(null, Validators.required);\n    (<FormArray>this.signupForm.get('interests')).push(control);\n  }\n\n  forbiddenNames(control: FormControl): {[s: string]: boolean} {\n    if (this.forbiddenUsernames.indexOf(control.value) !== -1) {\n      return {'nameIsForbidden': true};\n    }\n    return null;\n  }\n\n  forbiddenEmails(control: FormControl): Promise<any> | Observable<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      setTimeout(() => {\n        if (control.value === 'test@test.com') {\n          resolve({'emailIsForbidden': true});\n        } else {\n          resolve(null);\n        }\n      }, 1000);\n    });\n    return promise;\n  }\n}\nfunction $any(arg0: null): any {\n  throw new Error('Function not implemented.');\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}