{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nlet AppComponent = class AppComponent {\n  constructor(formBuilder) {\n    this.formBuilder = formBuilder;\n    this.honorifics = ['Dr.', 'Mr.', 'Mrs.', 'Ms.'];\n    this.forbiddenUsernames = ['john.doe', 'jane.doe'];\n  }\n  ngOnInit() {\n    this.signupForm = new FormGroup({\n      'userData': new FormGroup({\n        'username': new FormControl(null, [Validators.required, this.forbiddenNames.bind(this)]),\n        'email': new FormControl(null, [Validators.required, Validators.email])\n      }),\n      'honorific': new FormControl('Mrs.'),\n      'interests': new FormArray([])\n    });\n    this.signupForm.statusChanges.subscribe(value => console.log(value));\n    this.signupForm.setValue({\n      'userData': {\n        'username': 'jane.smith',\n        'email': 'jane.smith@email.com'\n      },\n      'honorific': 'male',\n      'interests': []\n    });\n    this.signupForm.patchValue({\n      'userData': {\n        'username': 'jane.doe'\n      }\n    });\n  }\n  onSubmit() {\n    console.log(this.signupForm);\n    this.signupForm.reset();\n  }\n  onAddInterest() {\n    const control = new FormControl(Validators.required);\n    this.signupForm.get('interests').push(control);\n  }\n  forbiddenNames(control) {\n    if (this.forbiddenUsernames.indexOf(control.value) !== -1) {\n      return {\n        'nameIsForbidden': true\n      };\n    }\n    return $any(null);\n  }\n  forbiddenEmails(control) {\n    const promise = new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (control.value === 'test@test.com') {\n          resolve({\n            'emailIsForbidden': true\n          });\n        } else {\n          resolve(null);\n        }\n      }, 1000);\n    });\n    return promise;\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };\nfunction $any(arg0) {\n  throw new Error('Function not implemented.');\n}","map":{"version":3,"names":["Component","FormArray","FormControl","FormGroup","Validators","AppComponent","constructor","formBuilder","honorifics","forbiddenUsernames","ngOnInit","signupForm","required","forbiddenNames","bind","email","statusChanges","subscribe","value","console","log","setValue","patchValue","onSubmit","reset","onAddInterest","control","get","push","indexOf","$any","forbiddenEmails","promise","Promise","resolve","reject","setTimeout","__decorate","selector","templateUrl","styleUrls","arg0","Error"],"sources":["C:\\Users\\Dan\\Desktop\\WGU\\Spring 2023\\D280 Javascript Programming\\angular\\reactive-form-example\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  honorifics = ['Dr.', 'Mr.', 'Mrs.', 'Ms.'];\n  signupForm!: FormGroup;\n  forbiddenUsernames = ['john.doe', 'jane.doe'];\n  title: any;\n  value: any;\n\n  constructor(private formBuilder: FormBuilder) {}\n\n  ngOnInit() {\n    this.signupForm = new FormGroup({\n      'userData': new FormGroup({\n        'username': new FormControl(null, [Validators.required, this.forbiddenNames.bind(this)]),\n        'email': new FormControl(null, [Validators.required, Validators.email])\n      }),\n      'honorific': new FormControl('Mrs.'),\n      'interests': new FormArray([])\n    });\n \n    this.signupForm.statusChanges.subscribe(\n      (value) => console.log(value)\n    );\n    this.signupForm.setValue({\n      'userData': {\n        'username': 'jane.smith',\n        'email': 'jane.smith@email.com'\n      },\n      'honorific': 'male',\n      'interests': []\n    });\n    this.signupForm.patchValue({\n      'userData': {\n        'username': 'jane.doe',\n      }\n    });\n  }\n\n  onSubmit() {\n    console.log(this.signupForm);\n    this.signupForm.reset();\n  }\n\n  onAddInterest() {\n    const control = new FormControl(Validators.required);\n    (<FormArray>this.signupForm.get('interests')).push(control);\n  }\n\n  forbiddenNames(control: FormControl): {[s: string]: boolean} {\n    if (this.forbiddenUsernames.indexOf(control.value) !== -1) {\n      return {'nameIsForbidden': true};\n    }\n    return $any(null);\n  }\n\n  forbiddenEmails(control: FormControl): Promise<any> | Observable<any> {\n    const promise = new Promise<any>((resolve, reject) => {\n      setTimeout(() => {\n        if (control.value === 'test@test.com') {\n          resolve({'emailIsForbidden': true});\n        } else {\n          resolve(null);\n        }\n      }, 1000);\n    });\n    return promise;\n  }\n}\n\nfunction $any(arg0: null): { [s: string]: boolean; } {\n  throw new Error('Function not implemented.');\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}